# Wplace 自动绘画脚本（适用于 Blue Marble）

本项目是一款基于 Python 的自动化脚本，旨在帮助用户在 Wplace 中进行高效的离散像素绘画，提升绘画体验。该脚本能够自动识别并填充Wplace-BlueMarble脚本所覆盖的指定颜色的像素区域，极大地简化了绘画过程。

（不知道怎么贡献，代码只传到了这个fork里）

# 新增与优化
修复空格拖动功能。
新增像素点学习功能，Q取色时会自动截图并进行小像素点的学习，以判定大小像素点。<img width="300" height="196" alt="20251005_093237_small_100area_11x11" src="https://github.com/user-attachments/assets/7cc9c2ed-389c-4ff9-b01e-e07f5997b6f5" />

新增扫描DEBUG模式，按X可以截图，在SCANS文件夹内查看目前屏幕的已识别小像素点，绿：正确被识别的小像素点；红：所有被扫描到的像素位置；黄：被忽略的区域。<img width="3458" height="1213" alt="debug_scan_20251005_094647_309390" src="https://github.com/user-attachments/assets/8b0213b3-91ca-4877-9b96-8f1bda563b62" />

新增像素阈值快捷键：[ 和 ] ，左方和右方，用来增减像素阈值，提高未填色小像素点的判定标准。
新增调试模式快捷键T，启用后热切换调试模式，只进行鼠标移动，而不进行填色操作。
新增拖动功能快捷键Z。

现在脚本应该很好用了。
### 免责声明

**本脚本是一个由个人开发的第三方非官方工具，与 Wplace 或 Blue Marble 游戏及插件的开发者没有任何关联、赞助或授权。** 本项目的唯一目的是为用户提供一个自动化工具，用于辅助网站内的绘画操作。

---

**特别鸣谢**

* 本脚本的创作灵感来自 @MisakaOrigami 脚本的启发，在此表示衷心感谢！
* 在开发过程中，大量使用了 **Gemini** 作为辅助工具，它在代码优化和逻辑实现上提供了巨大帮助。

---



## 快速入门

### 1. 环境准备

在运行脚本之前，请确保您已安装所需的 Python 库。可以使用以下命令一键安装：

```bash
pip install pyautogui numpy opencv-python pygetwindow pynput scikit-learn pywin32
```



### 2. 启动脚本

安装完所有依赖后，只需在终端中运行主程序：

```
python main.py
```

------



## 使用指南



### 1. 热键操作

- **W**: **启动/暂停** 绘画。按下启动，再次按下暂停。
- **Q**: **拾取颜色**。将鼠标悬停在您想要填色的 Blue Marble 小格上，或调色板内的颜色上，按下Q键即可将该颜色设为新的目标颜色，并自动保存到配置文件中。
- **F9-F9-F10**: **定义并保存矩形忽略区域**。  - 将鼠标移动到您想要忽略的区域的**左上角**，按一次 **F9**。  - 将鼠标移动到该区域的**右下角**，再按一次 **F9**。  - 最后，按 **F10** 保存该区域。脚本将不再处理该区域内的像素，例如您的 Blue Marble 窗口。
- **G**: **立即停止** 脚本。该操作等同于在终端窗口中按下 `Ctrl + C`，能够立即终止脚本的运行。

------



### 2. 文件说明

- `main.py`: 脚本主程序。
- `exclusion_zones.txt`: 配置文件。脚本启动时会自动创建或加载此文件。它用于保存您设置的忽略区域坐标和上次拾取的**目标颜色**。这使得您下次运行脚本时，无需重新配置即可继续使用。

------



### 3. 注意事项

- 此脚本基于 **Blue Marble** 功能设计，使用时请确保打开了 Wplace 窗口并已经安装了 **Blue Marble** 插件。
- 对于已经被涂上错误颜色的色块，脚本可能无法很好地识别并进行修正。正在考虑在未来的版本中改进此功能。



